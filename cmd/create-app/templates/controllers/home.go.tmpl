package controllers

import (
	"net/http"

	"github.com/The-Skyscape/devtools/pkg/application"
)

// HomeController is the controller for the home page
type HomeController struct {
	application.BaseController
}

// Setup is called when the application is started
func (c *HomeController) Setup(app *application.App) {
	c.BaseController.Setup(app)

	http.Handle("GET /", app.Serve("home.html", nil))
}

// Handle is called when each request is handled
func (c HomeController) Handle(req *http.Request) application.Controller {
	c.Request = req
	return &c
}

// AppName returns the application name for templates
func (c *HomeController) AppName() string {
	return "{{.Name}}"
}

// AppDescription returns the application description for templates
func (c *HomeController) AppDescription() string {
	return "A modern todo application built with TheSkyscape DevTools"
}