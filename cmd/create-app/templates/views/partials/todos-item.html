<div class="card bg-base-100 shadow-md hover:shadow-lg transition-shadow" id="todo-{{.ID}}">
  <div class="card-body p-4">
    <div class="flex items-start justify-between">
      <div class="flex items-start space-x-3 flex-1">
        <!-- Checkbox -->
        <div class="form-control">
          {{if .Completed}}
          <label class="cursor-pointer">
            <input type="checkbox" checked class="checkbox checkbox-success"
                   hx-post="{{host}}/todos/uncomplete"
                   hx-vals='{"id": "{{.ID}}"}'
                   hx-target="#todo-{{.ID}}"
                   hx-swap="outerHTML">
          </label>
          {{else}}
          <label class="cursor-pointer">
            <input type="checkbox" class="checkbox"
                   hx-post="{{host}}/todos/complete"
                   hx-vals='{"id": "{{.ID}}"}'
                   hx-target="#todo-{{.ID}}"
                   hx-swap="outerHTML">
          </label>
          {{end}}
        </div>

        <!-- Content -->
        <div class="flex-1 {{if .Completed}}opacity-60{{end}}">
          <h3 class="font-semibold {{if .Completed}}line-through{{end}}">{{.Title}}</h3>
          {{if .Description}}
          <p class="text-sm opacity-70 mt-1">{{.Description}}</p>
          {{end}}

          <div class="flex items-center space-x-2 mt-2">
            <!-- Priority Badge -->
            {{if eq .Priority "high"}}
            <span class="badge badge-error badge-sm">High</span>
            {{else if eq .Priority "medium"}}
            <span class="badge badge-warning badge-sm">Medium</span>
            {{else}}
            <span class="badge badge-info badge-sm">Low</span>
            {{end}}

            <!-- Due Date -->
            {{if not .DueDate.IsZero}}
            <span class="text-xs opacity-60">
              Due: {{.DueDate.Format "Jan 2, 2006"}}
            </span>
            {{end}}

            <!-- Created Date -->
            <span class="text-xs opacity-50">
              {{.CreatedAt.Format "Jan 2, 3:04 PM"}}
            </span>
          </div>
        </div>
      </div>

      <!-- Delete Button -->
      <button class="btn btn-ghost btn-sm text-error hover:bg-error hover:text-white"
              hx-delete="{{host}}/todos/delete"
              hx-vals='{"id": "{{.ID}}"}'
              hx-target="#todo-{{.ID}}"
              hx-swap="outerHTML"
              hx-confirm="Are you sure you want to delete this todo?">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
      </button>
    </div>
  </div>
</div>